<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Number of significant digits in rounded numbers — roundedSigDigits • omnibus</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Number of significant digits in rounded numbers — roundedSigDigits"><meta name="description" content="This function examines a numeric value (typically with numbers after the decimal place) and estimates either:
The number of significant digits of the numerator and denominator of a fraction that would (approximately) result in the given value.
The number of digits to which an integer may have been rounded, depending on whether the input has values after the decimal place or is an integer. Negative values are treated as positive so the negative of a number will returns the same value as its positive version. See Details for more details. Obviously, values can appear to be rounded or repeating even when they are not!

"><meta property="og:description" content="This function examines a numeric value (typically with numbers after the decimal place) and estimates either:
The number of significant digits of the numerator and denominator of a fraction that would (approximately) result in the given value.
The number of digits to which an integer may have been rounded, depending on whether the input has values after the decimal place or is an integer. Negative values are treated as positive so the negative of a number will returns the same value as its positive version. See Details for more details. Obviously, values can appear to be rounded or repeating even when they are not!

"><meta property="og:image" content="https://adamlilith.github.io/omnibus/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">omnibus</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.14</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/adamlilith/omnibus/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Number of significant digits in rounded numbers</h1>
      <small class="dont-index">Source: <a href="https://github.com/adamlilith/omnibus/blob/master/R/roundedSigDigits.r" class="external-link"><code>R/roundedSigDigits.r</code></a></small>
      <div class="d-none name"><code>roundedSigDigits.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function examines a numeric value (typically with numbers after the decimal place) and estimates either:</p><ul><li><p>The number of significant digits of the numerator and denominator of a fraction that would (approximately) result in the given value.</p></li>
<li><p>The number of digits to which an integer may have been rounded, depending on whether the input has values after the decimal place or is an integer. Negative values are treated as positive so the negative of a number will returns the same value as its positive version. See <em>Details</em> for more details. <em>Obviously, values can appear to be rounded or repeating even when they are not!</em></p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">roundedSigDigits</span><span class="op">(</span><span class="va">x</span>, minReps <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>Numeric or numeric vector.</p></dd>


<dt id="arg-minreps">minReps<a class="anchor" aria-label="anchor" href="#arg-minreps"></a></dt>
<dd><p>Integer. Number of times a digit or sequence of digits that occur after a decimal place needs to be repeated to assume it represents a repeating series and thus is assumed to arise from using decimal places to represent a fraction. Default is 3. For example, if <code>minReps</code> is 3 then 0.111 would be assumed to represent a repeating value because 1 occurs three times, so -1 would be returned since this decimal can be represented by 1/9 (i.e., division of 1 by a single-digit number). However, if <code>minReps</code> is 4 then the function would assume that if the value had had four digits, the next digit would not have been a 1, so returns -3 because there are three significant values after the decimal place. When the penultimate digit is &gt;5 and the last digit is equal to the penultimate digit plus 1, then the last digit counts as a repeat of the penultimate digit.  So 0.067 is assumed to have two repeating 6s.  If <code>minReps</code> is 0 or 1 then the function will (usually) return the negative of the total number of decimal places in the value.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Integer (number of digits) or <code>NA</code> (does not appear to be rounded).</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>For values with at least one non-zero digit after a decimal place with no repeated series of digits detected, the function simply returns the total number of digits (ignoring trailing zeros) times -1. For example:</p><ul><li><p>0.3 returns -1 because there is just one value after the decimal.</p></li>
<li><p>0.34567 returns -5 because there are no repeats up to the 5th decimal place.</p></li>
<li><p>0.1212125 returns -7 because there are no repeats (starting from the right) up to the 7th decimal place.</p></li>
<li><p>0.111117 returns -6 because there are no repeats (starting from the right) up to the 7th decimal place.</p></li>
</ul><p>The function takes account of rounding up:</p><ul><li><p>0.666 might be a truncated version of 2/3. Two and three each have 1 significant digit, so the function returns -1 (1 value after the decimal place).</p></li>
<li><p>0.667 also returns -1 because this might represent a rounding of 2/3 and it is customary to round digits up if the next digit would have been &gt;5.</p></li>
<li><p>0.3334 returns -4 because it is inappropriate to round 3 up to 4 if the next digit would have been 5 or less.</p></li>
</ul><p>Repeating series are accounted for. For example:</p><ul><li><p>0.121212 returns -2 because "12" starts repeating after the second decimal place.</p></li>
<li><p>0.000678678678 returns -6 because "678" starts repeating after the 6th place.</p></li>
<li><p>0.678678678 returns -3.</p></li>
<li><p>0.678678679 also returns -3 because 678 could be rounded to 679 if the next digit were 6.</p></li>
</ul><p>Note that you can set the minimum number of times a digit or series needs to be repeated to count as being repeated using the argument <code>minReps</code>. The default is 3, so digits or series of digits need to be repeated at least 3 times to count a repetition, but this can be changed:</p><ul><li><p>0.1111 returns -1 using the default requirement for 3 repetitions but -4 if the number of minimum repetitions is 5 or more.</p></li>
<li><p>0.121212 returns -2 using the default requirement for 3 repetitions but -6 if the number of minimum repetitions is 4 or more.</p></li>
</ul><p>Trailing zeros are ignored, so 0.12300 returns -3. When values do not have digits after a decimal place the location of the first non-zero digit from the right is returned as a positive integer. For example:</p><ul><li><p>234 returns 1 because the first non-zero digit from the right is in the 1s place.</p></li>
<li><p>100 return 3 because the first non-zero digit from the right is in the 100s place.</p></li>
<li><p>70001 returns 1 because the first non-zero digit from the right is in the 1s place.</p></li>
</ul><p>However, note a few oddities:</p><ul><li><p>4E5 returns 6 but 4E50 probably will not return 51 because many computers have a hard time internally representing numbers that large.</p></li>
<li><p>4E-5 returns -5 but  probably will not return -50 because many computers have a hard time internally representing numbers that small.</p></li>
<li><p>-100 and 100 return 3 and -0.12 and 0.12 return -2 because the negative sign is ignored.</p></li>
<li><p>0 returns 0.</p></li>
<li><p><code>NA</code> and <code>NaN</code> returns <code>NA</code>.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">roundedSigDigits</span><span class="op">(</span><span class="fl">0.3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -1</span>
<span class="r-in"><span><span class="fu">roundedSigDigits</span><span class="op">(</span><span class="fl">0.34567</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -5</span>
<span class="r-in"><span><span class="fu">roundedSigDigits</span><span class="op">(</span><span class="fl">0.1212125</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -7</span>
<span class="r-in"><span><span class="fu">roundedSigDigits</span><span class="op">(</span><span class="fl">0.111117</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -6</span>
<span class="r-in"><span><span class="fu">roundedSigDigits</span><span class="op">(</span><span class="fl">0.666</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -1</span>
<span class="r-in"><span><span class="fu">roundedSigDigits</span><span class="op">(</span><span class="fl">0.667</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -1</span>
<span class="r-in"><span><span class="fu">roundedSigDigits</span><span class="op">(</span><span class="fl">0.3334</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -4</span>
<span class="r-in"><span><span class="fu">roundedSigDigits</span><span class="op">(</span><span class="fl">0.121212</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -2</span>
<span class="r-in"><span><span class="fu">roundedSigDigits</span><span class="op">(</span><span class="fl">0.000678678678</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -6</span>
<span class="r-in"><span><span class="fu">roundedSigDigits</span><span class="op">(</span><span class="fl">0.678678678</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -3</span>
<span class="r-in"><span><span class="fu">roundedSigDigits</span><span class="op">(</span><span class="fl">0.678678679</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -3</span>
<span class="r-in"><span><span class="fu">roundedSigDigits</span><span class="op">(</span><span class="fl">0.1111</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -1</span>
<span class="r-in"><span><span class="fu">roundedSigDigits</span><span class="op">(</span><span class="fl">0.1111</span>, minReps<span class="op">=</span><span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -4</span>
<span class="r-in"><span><span class="fu">roundedSigDigits</span><span class="op">(</span><span class="fl">0.121212</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -2</span>
<span class="r-in"><span><span class="fu">roundedSigDigits</span><span class="op">(</span><span class="fl">0.121212</span>, minReps<span class="op">=</span><span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -6</span>
<span class="r-in"><span><span class="fu">roundedSigDigits</span><span class="op">(</span><span class="fl">234</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-in"><span><span class="fu">roundedSigDigits</span><span class="op">(</span><span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 3</span>
<span class="r-in"><span><span class="fu">roundedSigDigits</span><span class="op">(</span><span class="fl">70001</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-in"><span><span class="fu">roundedSigDigits</span><span class="op">(</span><span class="fl">4E5</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 6</span>
<span class="r-in"><span><span class="fu">roundedSigDigits</span><span class="op">(</span><span class="fl">4E50</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2</span>
<span class="r-in"><span><span class="fu">roundedSigDigits</span><span class="op">(</span><span class="fl">4E-5</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -5</span>
<span class="r-in"><span><span class="fu">roundedSigDigits</span><span class="op">(</span><span class="fl">4E-50</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -50</span>
<span class="r-in"><span><span class="fu">roundedSigDigits</span><span class="op">(</span><span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-in"><span><span class="fu">roundedSigDigits</span><span class="op">(</span><span class="cn">NA</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] NA</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.0667</span>, <span class="fl">0.0667</span>, <span class="fl">0.067</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">roundedSigDigits</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -2 -2 -3</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Adam B. Smith.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

